{% set pageName = 'Article' %}

{% extends 'base.html.twig' %}

{% block body %}

    <div class="container">
        <article>
            <div class="row">
                <div class="col-lg-8 col-md-10 mx-auto">
                    <h4 class="post-meta">Catégorie : {{ article.category.name }}</h4>
                    <p class="post-meta"> Posté par {{ article.user.name }}
                        le {{ article.createdAt|date('d-m-Y à H:i') }}.</p>
                    <h1 class="post-title">{{ article.title }}</h1>
                    <h3 class="post-subtile">{{ article.introduction }}</h3>
                    <p class="post-meta">{{ article.content }}</p>
                </div>
            </div>
        </article>


<<<<<<< Updated upstream
        {# Article #}
        <div class="row">
            <div class="card" style="width: 18rem;">
                <div class="card-body">
                    <h5 class="card-title">{{ article.title }}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">{{ article.introduction }}</h6>
                    <p class="card-text">{{ article.content }}</p>
                    <h6 class="card-subtitle mb-2 text-muted">Auteur : {{ article.user.name }}</h6>

                    {# Add Comment #}
<<<<<<< HEAD
                    {% if session == true %}
=======
=======
            <hr>
        {# Add Comment #}
        {% if session == true %}
            <div class="row">
                <div class="col-lg-8 col-md-10 mx-auto">
>>>>>>> Stashed changes
>>>>>>> front
                    <p>
                        <a class="btn btn-primary" data-toggle="collapse" href="#collapseExample" role="button"
                           aria-expanded="false" aria-controls="collapseExample">
                            Ajouter un commentaire </a>
                    </p>
                    {# Form #}
                    <div class="collapse" id="collapseExample">
                        <div class="card card-body">
                            <form action="/add_comment" method="post">
                                <input type="text" id="comment" name="comment" required minlength="4">
<<<<<<< HEAD
                                <input type="hidden" name="articleId" value="{{ article.id }}"/>
                                </div>
=======
<<<<<<< Updated upstream
                        </div>
                        <input type="submit"></div>
=======
                                <input type="hidden" name="articleId" value="{{ article.id }}"/>
>>>>>>> Stashed changes
>>>>>>> front
                            </form>
                        </div>
                    </div>
                </div>
<<<<<<< HEAD
                {% endif %}
=======
<<<<<<< Updated upstream
>>>>>>> front

                {# Link to Home #}
                <a href="/home" class="card-link">Retour à la home</a>

=======
>>>>>>> Stashed changes
            </div>
            <br
        {% endif %}


        {# Comment #}
        {% for comment in article.comments %}
            {% if comment.validate == true %}
                <div class="row mb-2">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <div class="card card-white post">
                            <div class="post-heading">
                                <div class="float-left meta">
                                    <div class="title h5">
                                        <a href="#"><b>{{ comment.user.name }}</b></a>
                                    </div>
                                    <h6 class="text-muted time">{{ comment.createdAt|date('d-m-Y à H:i') }}</h6>
                                </div>
                            </div>
                            <div class="post-description">
                                <p>{{ comment.content }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
        {% endfor %}

    </div>


{% endblock %}